■修正内容(ver 3.06)
・主に単独構成の構成認識を調整

差し替えたファイル（このファイル以外）
join_logo_scp.exe  今回の修正
src/*              今回の修正ソースファイル
JL/JL_フラグ指定.txt 番組提供をロゴありに限定するフラグ(ALSP)のみ追加


■修正内容(ver 3.05)
・開始マージン関連設定の不具合修正(ZoneFirstパラメータ)および調整
・ロゴなし不明構成を残す設定(AddUCパラメータ)が機能していなかったこと修正
・予告と認識した最初の内容を番組提供部分とする設定が機能しなかったケース修正
・無音シーンチェンジ数が多い構成内分離の調整
・構成検出の微調整
・AutoIns/AutoDelをAutoInsert/AutoDeleteでも表記可能
・終了マージン部分で最後の構成分割を追加
  最後の構成分割追加したくない場合は下記を-1または最後の構成期間以上に設定する
  Default param_zone_last    0.0
  SetParam ZoneLast    $param_zone_last

差し替えたファイル（このファイル以外）
join_logo_scp.exe  今回の修正
src/*              今回の修正ソースファイル
JL/JL_ATX.txt      主に複数話構成の検出調整
JL/JL_標準.txt       param_zone_lastのコメントのみ変更
JL/JL_フラグ指定.txt param_zone_lastのコメント変更
                     AutoCMをMkLogo設定フラグ処理の後に移動


■修正内容(ver 3.04)
・先頭からロゴありの時に開始マージン最大期間を限定する設定追加
  Default param_lgcut_first  12.0   # 最初からロゴありの時開始マージン最大期間
  SetParam LgCutFirst  $param_lgcut_first
・ロゴを使用しない検出で先頭カット位置がない場合正常検出しなかった不具合を修正
・一部期間がロゴなしの15秒単位構成CM判断を修正
・広域ロゴなしカットでカット位置の判別修正
・AutoAddの手前側は隣接のみ(code=20)は予告・番組提供・ロゴどれでもに修正

差し替えたファイル（このファイル以外）
join_logo_scp.exe  今回の修正
src/*              今回の修正ソースファイル
JL/JL_ATX.txt      位置検出の修正
JL/JL_標準.txt       Default param_lgcut_firstとSetParam LgCutFirstの2行追加
JL/JL_フラグ指定.txt Default param_lgcut_firstとSetParam LgCutFirstの2行追加


■修正内容(ver 3.03)
・広域ロゴなしカットで構成認識が更新されない不具合を修正
・１構成の最後にロゴoffが毎回あるケースでロゴを認識するように修正
・ロゴを使用しない検出で無音が多い所のCM判断調整
・AutoEdgeで実際のロゴ位置をベースとする設定を暫定的に追加
    -Nlogo 0（ロゴを限定する場合は-Nの代わりに-Nlogo）
  をAutoEdgeのオプションに指定することで構成のon/off切り替わりではなく
  実際のロゴ切れ目にある構成から判断するため、従来の動作に近くなる

差し替えたファイル（このファイル以外）
join_logo_scp.exe  今回の修正
src/*              今回の修正ソースファイル


■修正内容(ver 3.02)
・ロゴなし部分Nologo(cut)のTrim反映不具合を修正

差し替えたファイル（このファイル以外）
join_logo_scp.exe  今回の修正
src/*              今回の修正ソースファイル


■修正内容(ver 3.01)
・ロゴなし部分を予告構成にしてもTrimに反映されない不具合を修正
・ロゴ構成内構成分離判断の細かい修正

差し替えたファイル（このファイル以外）
join_logo_scp.exe  今回の修正
src/*              今回の修正ソースファイル


■修正内容(ver 3.0)
・基本構成推測アルゴリズムを変更
・基本構成推測時にロゴ情報をどの程度使うか数段階から選択
  （実行スクリプト内の設定）構成推測時のロゴ使用（1:なし〜8:ロゴ情報最優先）
・ファイル先頭最後の構成推測部分を強化
・起動オプションのフラグ指定で値も一緒に指定可能（-flags フラグ名:値）
・起動オプションをファイルから読み込むこと可能（-F ファイル名）
・起動オプションにCutMrgIn/Out値の使用判断設定追加(-CutMrgWI,-CutMrgWO)
・Auto系コマンドでデフォルト14秒以下の所を13秒以下に変更
・実行スクリプトに多数の機能追加
  - 起動オプションの一部を実行スクリプト内でも指定可能(OptDefault,OptSet)
  - 自動推測した構成から手動で構成変更するコマンド追加(AutoIns,AutoDel)
  - 乗算、除算、剰余、論理演算、()による優先順位演算追加
  - If文条件内で演算を使用可能
  - その他実行スクリプトに追加多数あり。詳細は「JLコマンド説明_全般.txt」と
    「JLコマンド説明_Autocutメモ.txt」に記載。内容は「ver3.0」で検索
    「JLコマンド説明_補助解説.txt」にも説明を記載。
・内部構成を大幅改変


■修正内容(ver 2.2)
・先頭から数フレーム〜1.5秒程度の不要部分が残るケースを修正
・実行スクリプト動作に修正追加（-autochgの仕様変更、AutoEdgeの動作修正）

差し替えたファイル
join_logo_scp.exe  今回の修正
src/*              今回の修正ソースファイル
ドキュメント類     今回の修正を記載（変更あるファイルのみ）
JL/JL_ATX.txt      短時間番組の微修正


■修正内容(ver 2.1)
・ロゴなしでも15秒単位のCM検出を行う処理追加
  （実行スクリプトに追加したAutoCMコマンドにより実行）
・ロゴ期間合計が極端に短い時はロゴなしとして処理
・実行スクリプトに細かい機能追加
  - 実行スクリプトにIf文条件（数値比較）追加
  - 実行スクリプトで$MAXFRAMEにより最終フレーム値を参照可能
    その他実行スクリプトに追加あり。詳細は「JLコマンド説明_全般.txt」に記載
・Auto系コマンドを中心に細かい動作修正多数


■修正内容(ver 2.0)
・番組構成を推測する機能を強化。構成からカット位置を決める機能を追加。
　- Auto系コマンド。JL_標準.txtを含め変更可能なスクリプトは変更済み。
  - 無音シーンチェンジで秒単位構成に分離できる時に効果大。
  - 変更ではなく追加なので、推測構成を使わない従来設定もそのまま使用可能。
　- 構成の違いをある程度吸収して、実行スクリプト書き換え頻度を減らす目的で追加。
・実行スクリプトの拡張・コマンド追加。変数指定で多くの設定を可能にした。



■修正内容(ver 1.1)
・CM間隔からロゴ位置確定できない時、優先させるフレーム位置を指定可能にした
・アルゴリズム部分の細かい修正

【開始マージン指定の具体例】
JL_標準.txt の下記部分 -1 をフレーム数に変えると、
無音シーンチェンジ候補判定が難しい時に指定したフレーム位置が優先される。
---
# 開始マージンのフレーム（-1の時は設定しない）
Default base -1
---

【各ファイルの変更点】
○readme.txt
  -setオプション追加（開始マージン等の変数値をバッチファイルから指定可）
○JL/JLコマンド説明.txt
  コマンド追加  ：Select,Default,Set
  オプション追加：-FR,-fromabs,-flat,-reset,-logoext
  フレーム指定で単純な加算／減算式を記載可能
○JL_標準.txt、JL/JL_*.txt
  開始マージン設定追加。現時点での使用内容（参考例）に更新。
○タイトル別設定例/*
  現時点で使用している内容（参考例）に更新。
○join_logo_scp.exe、src/*
  今回の修正を入れた実行ファイルとソースファイル


■修正内容(fix3)
・JLコマンドの範囲指定で負の値を指定可能なものは先頭末尾が逆でも動作させる修正
・アルゴリズム部分の細かい修正

差し替えたファイル
join_logo_scp.exe
src/join_logo_scp.c
JL/JLコマンド説明.txt （説明追加のみ）


■修正内容(fix2)
・読み込む無音シーンチェンジが256以上あると計算途中でバッファ不足を起こす
  不具合を修正
・無音連続区間を分割したchapter_exe出力の読み込みに対応
  （実行内容スクリプトで連続無音(-SMA)オプションを使った時に正常動作化）
・ロゴ位置補正関連の微調整

差し替えたファイル
join_logo_scp.exe
src/join_logo_scp.c


■修正内容(fix)
・一番先頭と一番最後の位置が想定通り動作しないケースがあったので修正

差し替えたファイル
join_logo_scp.exe
src/join_logo_scp.c
JL_標準.txt（20-22行をコメントアウトしたのみ）
